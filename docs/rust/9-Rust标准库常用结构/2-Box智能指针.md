# Box 智能指针

Box 允许将一个值放在堆上而不是栈上, 留在栈上的则是指向堆数据的指针. Box 是一个指向堆的智能指针, 当一个 Box 超出作用域时, 它的析构函数被调用, 内部对象被销毁, 堆上的内存被释放.

```rust
fn main() {
    let b = Box::new(5);
    println!("b = {}", b);
}
```

Box 没有运行上的性能损失, 虽然如此, 但它却只在以下场景中比起默认的栈上分配更适用:

- 当有一个在编译时未知大小的类型，而又想要在需要确切大小的上下文中使用这个类型值的时候
- 当有大量数据并希望在确保数据不被拷贝的情况下转移所有权的时候
- 当希望拥有一个值并只关心它的类型是否实现了特定 trait 而不是其具体类型的时候
